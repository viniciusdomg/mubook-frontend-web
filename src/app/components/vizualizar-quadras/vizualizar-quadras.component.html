<div class="p-6 h-full">
  <p class="text-2xl mb-[40px] font-semibold">Quadras</p>

  <div class="flex justify-between mb-[120px]">
    <div class="flex items-center gap-4">
      <p class="text-lg text-gray-700 m-0">Tipo de quadra:</p>

      <select
        [(ngModel)]="quadraSelecionada"
        class="border border-gray-300 rounded px-4 py-2 w-[280px] text-gray-700 focus:outline-none focus:ring-2 focus:ring-[#6D71FF]"
      >
        <option value="" disabled selected>Selecione o tipo de quadra</option>
        <option value="futsal">Futsal</option>
        <option value="volei">Vôlei</option>
        <option value="basquete">Basquete</option>
        <option value="tenis">Tênis</option>
        <option value="areia">Areia</option>
        <option value="todas">Todas</option>
      </select>

      <label class="text-lg text-gray-700 m-0">Buscar por ID:</label>
      <div class="relative w-40">
        <input
          type="text"
          [(ngModel)]="idSelecionado"
          name="nome"
          required
          placeholder="#554781"
          class="border rounded w-full pl-3 pr-11 py-2 placeholder-lg placeholder:text-[var(--color-placeholder)] focus:outline-none focus:ring-2 focus:ring-[#6D71FF]"
        />
        <button
          type="button"
          (click)="filterQuadrasById()"
          class="absolute right-0 top-0 h-full w-10 flex items-center justify-center bg-[var(--color-primary)] rounded hover:bg-[var(--color-primary-hover)] focus:outline-none"
        >
          <i class="bi bi-search text-white"></i>
        </button>
      </div>
    </div>
    <div class="flex justify-center">
      <button
        type="submit"
        class="bg-[var(--color-primary)] text-white px-4 py-2 rounded"
      >
        Adicionar Quadra
      </button>
    </div>
  </div>

  <div class="flex items-center justify-center gap-6 mb-[80px]">

    <button (click)="goPrev()" class="p-2 bg-transparent rounded hover:!bg-[var(--color-section-bg)]">←</button>
    <!-- Card anterior -->
    <div
      class="w-[220px] h-[150px] bg-white border border-gray-300 shadow-md flex cursor-pointer opacity-60 scale-90 transition"
      (click)="setActive(prevIndex())"
    >
      <div class="p-2 flex flex-col justify-center">
        <p style="font-size: 12px; margin-bottom: 40px;"><strong>Cap. Máxima:</strong> {{ items[nextIndex()].capMaxima }}</p>
        <p style="font-size: 12px; margin-bottom: 4px;"><strong>Tipo:</strong> {{ items[nextIndex()].tipo }}</p>
        <p style="font-size: 12px;"><strong>Tamanho:</strong> {{ items[nextIndex()].tamanho }}</p>
      </div>
      <img
        [src]="'assets/images/' + items[prevIndex()].imagem"
        alt="Imagem"
        class="w-[100px] h-full object-cover rounded-r"
      />
    </div>'

    <!-- Card ativo -->
    <div
      class="w-[680px] h-[370px] bg-white border border-red-500 shadow-lg flex cursor-default transition"
    >
        <div class="p-6 flex flex-col justify-start text-lg h-full">
        <p style="margin-bottom: 150px;" class="text-sm">
            <strong>Capacidade Máxima:</strong> {{ items[activeIndex].capMaxima }}
        </p>
        <p class="text-2xl"><strong>Tipo da Quadra:</strong> {{ items[activeIndex].tipo }}</p>
        <p><strong>Tamanho:</strong> {{ items[activeIndex].tamanho }}</p>
        </div>
      <img
        [src]="'assets/images/' + items[activeIndex].imagem"
        alt="Imagem"
        class="w-[400px] h-full object-cover rounded-r"
      />
    </div>


    <!-- Card próximo -->
    <div
      class="w-[220px] h-[150px] bg-white border border-gray-300 shadow-md flex cursor-pointer opacity-60 scale-90 transition"
      (click)="setActive(nextIndex())"
    >
      <div class="p-2 flex flex-col justify-center">
        <p style="font-size: 12px; margin-bottom: 40px;"><strong>Cap. Máxima:</strong> {{ items[nextIndex()].capMaxima }}</p>
        <p style="font-size: 12px; margin-bottom: 4px;"><strong>Tipo:</strong> {{ items[nextIndex()].tipo }}</p>
        <p style="font-size: 12px;"><strong>Tamanho:</strong> {{ items[nextIndex()].tamanho }}</p>
      </div>
      <img
        [src]="'assets/images/' + items[nextIndex()].imagem"
        alt="Imagem"
        class="w-[100px] h-full object-cover rounded-r"
      />
    </div>

    <button (click)="goNext()" class="p-2 bg-transparent rounded hover:!bg-[var(--color-section-bg)]">→</button>
  </div>

  <hr class="border-t border-gray-300 w-full m-16" />

  <table class="w-full table-fixed border border-gray-200">
    <thead class="bg-gray-100">
    <tr>
      <th class="p-2 w-12">
        <input type="checkbox" (change)="selectAll($event)"
               [disabled]="tipoQuadrasPage?.content !== null || tipoQuadrasPage?.content?.length === 0"
        />
      </th>
      <th class="p-2 text-center">Nome</th>
      <th class="p-2 text-center">Email</th>
      <th class="p-2 text-center">Cpf</th>
      <th class="p-2 text-center">Tipo</th>
      <th class="p-2 text-center">Ações</th>
    </tr>
    </thead>
    <tbody>
    <tr *ngFor="let user of tipoQuadrasPage?.content" class="border-b">
      <td class="p-2 w-12">
        <input type="checkbox" [checked]="selectedUserIds.includes(user.id)" (change)="toggleSelection(user.id)"/>
      </td>
      <td class="p-2 text-center">{{ user.nome }}</td>
      <td class="p-2 text-center">{{ user.email }}</td>
      <td class="p-2 text-center">{{ user.cpf }}</td>
      <td class="p-2 text-center">{{ user.tipo }}</td>
      <td class="p-2 flex gap-2 justify-center">
        <button class="bg-[var(--color-accent)] p-2 rounded text-white hover:opacity-70">
          <i class="bi bi-eye"></i>
        </button>
        <button class="bg-[var(--color-primary)] p-2 rounded text-white hover:opacity-70">
          <i class="bi bi-pencil"></i>
        </button>
        <button class="bg-[var(--color-danger)] p-2 rounded text-white hover:opacity-70" (click)="deleteOne(user.id)">
          <i class="bi bi-trash"></i>
        </button>
      </td>
    </tr>
    <tr *ngIf="!tipoQuadrasPage?.content || (tipoQuadrasPage?.content?.length ?? 0) === 0">
      <td colspan="6" class="p-4 text-center text-gray-500 italic">
        Nenhum usuário cadastrado
      </td>
    </tr>
    </tbody>
  </table>
</div>
